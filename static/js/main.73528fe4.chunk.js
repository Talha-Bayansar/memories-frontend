(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),s=n.n(o),c=n(12),a=n.n(c),i=(n(32),n(5)),l=n(6),u=n(3),p=n(10),d=n(25),b=n(2),j=n.n(b),f=n(7),h=Object(o.createContext)();function m(e){var t=Object(o.useState)([]),n=Object(p.a)(t,2),s=n[0],c=n[1],a=Object(o.useState)(null),i=Object(p.a)(a,2),l=i[0],u=i[1],b=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://tb-memories.herokuapp.com","/posts"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(t),console.log(n),c(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(j.a.mark((function e(t,n){var r,o,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("create"),console.log(t),r={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=6,fetch("".concat("https://tb-memories.herokuapp.com","/posts"),r);case 6:return o=e.sent,e.next=9,o.json();case 9:a=e.sent,console.log(a),c([].concat(Object(d.a)(s),[a]));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json"}},e.next=3,fetch("".concat("https://tb-memories.herokuapp.com","/posts/").concat(t._id),n);case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,console.log(o),c(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(j.a.mark((function e(t,n){var r,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log("update"),r={method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=5,fetch("".concat("https://tb-memories.herokuapp.com","/posts/").concat(t._id),r);case 5:return o=e.sent,e.next=8,o.json();case 8:s=e.sent,console.log(t),c(s),u(null);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"PUT",headers:{"Conntent-type":"application/json"}},e.next=3,fetch("".concat("https://tb-memories.herokuapp.com","/posts/like/").concat(t._id),n);case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,c(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){b(),console.log(s)}),[]);var v=Object(o.useMemo)((function(){return{posts:s,setPosts:c,postToEdit:l,setPostToEdit:u,createPost:m,updatePost:g,deletePost:x,like:O}}),[s,c,l,u,m,g,x,O]);return Object(r.jsx)(h.Provider,{value:v,children:e.children})}var x=function(){return Object(o.useContext)(h)};function g(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid grey;\n  width: 30%;\n  height: fit-content;\n  max-width: 300px;\n  padding: 1rem;\n\n  & > label {\n    margin: 0.5rem 0;\n    display: flex;\n    flex-direction: column;\n\n    & > input {\n      padding: 5px 5px;\n      border-radius: 5px;\n      border: 1px solid grey;\n\n      &:focus {\n        border: 1px solid lightblue;\n        outline: none;\n      }\n    }\n\n    & > #file {\n      border: none;\n      padding: unset;\n    }\n  }\n\n  & > button {\n    margin: 0.5rem 0;\n    padding: 0.25rem;\n  }\n"]);return g=function(){return e},e}var O=l.a.form(g());var v=function(){var e=Object(o.useState)({title:"",message:"",creator:"",tags:"",file:""}),t=Object(p.a)(e,2),n=t[0],s=t[1],c=x(),a=c.createPost,i=c.posts,l=c.postToEdit,d=c.setPostToEdit,b=c.updatePost;return Object(o.useEffect)((function(){s({title:"",message:"",creator:"",tags:"",selectedFile:""})}),[i]),Object(o.useEffect)((function(){null!==l&&s(l),console.log(l)}),[l]),Object(r.jsxs)(O,{onSubmit:function(e){return null===l?a(n,e):b(n,e)},children:[Object(r.jsxs)("label",{htmlFor:"title",children:["Title",Object(r.jsx)("input",{id:"title",type:"text",value:n.title,onChange:function(e){return s(Object(u.a)(Object(u.a)({},n),{},{title:e.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"message",children:["Message",Object(r.jsx)("input",{id:"message",type:"text",value:n.message,onChange:function(e){return s(Object(u.a)(Object(u.a)({},n),{},{message:e.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"creator",children:["Creator",Object(r.jsx)("input",{id:"creator",type:"text",value:n.creator,onChange:function(e){return s(Object(u.a)(Object(u.a)({},n),{},{creator:e.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"tags",children:["Tags",Object(r.jsx)("input",{id:"tags",type:"text",value:n.tags,onChange:function(e){return s(Object(u.a)(Object(u.a)({},n),{},{tags:e.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"url",children:["File",Object(r.jsx)("input",{id:"url",type:"url",multiple:!1,value:n.selectedFile,onChange:function(e){return s(Object(u.a)(Object(u.a)({},n),{},{selectedFile:e.target.value}))}})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"}),Object(r.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),d(null),s({title:"",message:"",creator:"",tags:"",selectedFile:""})}(e)},children:"Clear"})]})},y=n(23),_=n.n(y),k=n(24),w=n.n(k);function C(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n  height: 350px;\n  background-color: #e6e4e4;\n  margin: 1rem;\n  border-radius: 10px;\n\n  & > .post_img {\n    position: relative;\n    background: url(",') center no-repeat;\n    background-size: 100%;\n    width: 100%;\n    height: 50%;\n    border-radius: 10px 10px 0 0;\n\n    & > .post_img_data {\n      position: absolute;\n      margin: 1rem;\n      display: flex;\n      flex-direction: column;\n      color: white;\n      font-weight: bold;\n\n      & > .post_creator {\n        text-transform: capitalize;\n        margin-bottom: 0.5rem;\n      }\n\n      & > .post_date {\n        font-size: 0.75rem;\n      }\n    }\n\n    &::before {\n      content: "";\n      position: absolute;\n      background-color: rgba(0, 0, 0, 0.3);\n      height: 100%;\n      width: 100%;\n      border-radius: 10px 10px 0 0;\n    }\n\n    & > .post_dots {\n      position: absolute;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      top: 0;\n      right: 0;\n      margin: 1rem;\n      cursor: pointer;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n\n      & > .post_dot {\n        display: block;\n        width: 5px;\n        height: 5px;\n        border-radius: 50%;\n        background-color: white;\n        margin: 1px;\n      }\n    }\n  }\n\n  & > .post_data {\n    display: flex;\n    flex-direction: column;\n    height: 50%;\n    padding: 0.5rem 1rem;\n\n    & > .post_title {\n      text-transform: capitalize;\n      margin: 0.75rem 0;\n    }\n\n    & > .post_message {\n      overflow: scroll;\n      font-size: 0.75rem;\n      /* height: 70%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center; */\n    }\n\n    & > .post_tags {\n      color: grey;\n      font-size: 0.75rem;\n    }\n  }\n  & > .post_buttons {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem;\n\n    & > .post_button {\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: unset;\n      font-size: 0.9rem;\n      font-weight: bold;\n      text-transform: uppercase;\n      border-radius: 10px;\n      padding: 3px 6px;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n    }\n\n    & > .like {\n      color: #04a1ff;\n    }\n\n    & > .delete {\n      color: #db0000;\n    }\n  }\n']);return C=function(){return e},e}var N=l.a.div(C(),(function(e){return e.url}));var P=function(e){var t=e.post,n=x(),o=n.deletePost,s=n.setPostToEdit,c=n.like;return Object(r.jsxs)(N,{url:t.selectedFile,children:[Object(r.jsxs)("div",{className:"post_img",children:[Object(r.jsxs)("div",{className:"post_img_data",children:[Object(r.jsx)("span",{className:"post_creator",children:t.creator}),Object(r.jsx)("span",{className:"post_date",children:"date"})]}),Object(r.jsxs)("div",{onClick:function(){return s(t)},className:"post_dots",children:[Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"})]})]}),Object(r.jsxs)("div",{className:"post_data",children:[Object(r.jsx)("span",{className:"post_tags",children:t.tags}),Object(r.jsx)("h3",{className:"post_title",children:t.title}),Object(r.jsx)("p",{className:"post_message",children:t.message})]}),Object(r.jsxs)("div",{className:"post_buttons",children:[Object(r.jsxs)("button",{onClick:function(){return c(t)},className:"like post_button",children:[Object(r.jsx)(_.a,{})," Like ",t.likeCount]}),Object(r.jsxs)("button",{onClick:function(){return o(t)},className:"delete post_button",children:[Object(r.jsx)(w.a,{})," Delete"]})]})]})};function F(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n  margin-right: 1rem;\n"]);return F=function(){return e},e}var T=l.a.div(F());var E=function(){var e=x().posts;return Object(r.jsx)(T,{children:0!==e.length?e.map((function(e){return Object(r.jsx)(P,{post:e},e._id)})):Object(r.jsx)("span",{children:"There are no posts available at the moment"})})};function S(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n"]);return S=function(){return e},e}var z=l.a.div(S()),D=function(){return Object(r.jsxs)(z,{children:[Object(r.jsx)(E,{}),Object(r.jsx)(v,{})]})};var J=function(){return Object(r.jsx)(m,{children:Object(r.jsx)(D,{})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),s(e),c(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),L()}},[[40,1,2]]]);
//# sourceMappingURL=main.73528fe4.chunk.js.map