(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(0),s=n.n(o),c=n(12),a=n.n(c),i=(n(32),n(5)),l=n(6),u=n(3),d=n(10),p=n(25),b=n(2),j=n.n(b),f=n(7),h=Object(o.createContext)();function x(t){var e=Object(o.useState)([]),n=Object(d.a)(e,2),s=n[0],c=n[1],a=Object(o.useState)(null),i=Object(d.a)(a,2),l=i[0],u=i[1],b=function(){var t=Object(f.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:5000","/posts"));case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,console.log(e),console.log(n),c(n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,o,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("create"),console.log(e),r={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)},t.next=6,fetch("".concat("http://localhost:5000","/posts"),r);case 6:return o=t.sent,t.next=9,o.json();case 9:a=t.sent,console.log(a),c([].concat(Object(p.a)(s),[a]));case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(f.a)(j.a.mark((function t(e){var n,r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json"}},t.next=3,fetch("".concat("http://localhost:5000","/posts/").concat(e._id),n);case 3:return r=t.sent,t.next=6,r.json();case 6:o=t.sent,console.log(o),c(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(f.a)(j.a.mark((function t(e,n){var r,o,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("update"),r={method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)},t.next=5,fetch("".concat("http://localhost:5000","/posts/").concat(e._id),r);case 5:return o=t.sent,t.next=8,o.json();case 8:s=t.sent,console.log(e),c(s),u(null);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var t=Object(f.a)(j.a.mark((function t(e){var n,r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"PUT",headers:{"Conntent-type":"application/json"}},t.next=3,fetch("".concat("http://localhost:5000","/posts/like/").concat(e._id),n);case 3:return r=t.sent,t.next=6,r.json();case 6:o=t.sent,c(o);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){b(),console.log(s)}),[]);var v=Object(o.useMemo)((function(){return{posts:s,setPosts:c,postToEdit:l,setPostToEdit:u,createPost:x,updatePost:m,deletePost:g,like:O}}),[s,c,l,u,x,m,g,O]);return Object(r.jsx)(h.Provider,{value:v,children:t.children})}var g=function(){return Object(o.useContext)(h)};function m(){var t=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid grey;\n  width: 30%;\n  height: fit-content;\n  max-width: 300px;\n  padding: 1rem;\n\n  & > label {\n    margin: 0.5rem 0;\n    display: flex;\n    flex-direction: column;\n\n    & > input {\n      padding: 5px 5px;\n      border-radius: 5px;\n      border: 1px solid grey;\n\n      &:focus {\n        border: 1px solid lightblue;\n        outline: none;\n      }\n    }\n\n    & > #file {\n      border: none;\n      padding: unset;\n    }\n  }\n\n  & > button {\n    margin: 0.5rem 0;\n    padding: 0.25rem;\n  }\n"]);return m=function(){return t},t}var O=l.a.form(m());var v=function(){var t=Object(o.useState)({title:"",message:"",creator:"",tags:"",file:""}),e=Object(d.a)(t,2),n=e[0],s=e[1],c=g(),a=c.createPost,i=c.posts,l=c.postToEdit,p=c.setPostToEdit,b=c.updatePost;return Object(o.useEffect)((function(){s({title:"",message:"",creator:"",tags:"",selectedFile:""})}),[i]),Object(o.useEffect)((function(){null!==l&&s(l),console.log(l)}),[l]),Object(r.jsxs)(O,{onSubmit:function(t){return null===l?a(n,t):b(n,t)},children:[Object(r.jsxs)("label",{htmlFor:"title",children:["Title",Object(r.jsx)("input",{id:"title",type:"text",value:n.title,onChange:function(t){return s(Object(u.a)(Object(u.a)({},n),{},{title:t.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"message",children:["Message",Object(r.jsx)("input",{id:"message",type:"text",value:n.message,onChange:function(t){return s(Object(u.a)(Object(u.a)({},n),{},{message:t.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"creator",children:["Creator",Object(r.jsx)("input",{id:"creator",type:"text",value:n.creator,onChange:function(t){return s(Object(u.a)(Object(u.a)({},n),{},{creator:t.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"tags",children:["Tags",Object(r.jsx)("input",{id:"tags",type:"text",value:n.tags,onChange:function(t){return s(Object(u.a)(Object(u.a)({},n),{},{tags:t.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"url",children:["File",Object(r.jsx)("input",{id:"url",type:"url",multiple:!1,value:n.selectedFile,onChange:function(t){return s(Object(u.a)(Object(u.a)({},n),{},{selectedFile:t.target.value}))}})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"}),Object(r.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),p(null),s({title:"",message:"",creator:"",tags:"",selectedFile:""})}(t)},children:"Clear"})]})},y=n(23),_=n.n(y),w=n(24),k=n.n(w);function C(){var t=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n  height: 350px;\n  background-color: #e6e4e4;\n  margin: 1rem;\n  border-radius: 10px;\n\n  & > .post_img {\n    position: relative;\n    background: url(",') center no-repeat;\n    background-size: 100%;\n    width: 100%;\n    height: 50%;\n    border-radius: 10px 10px 0 0;\n\n    & > .post_img_data {\n      position: absolute;\n      margin: 1rem;\n      display: flex;\n      flex-direction: column;\n      color: white;\n      font-weight: bold;\n\n      & > .post_creator {\n        text-transform: capitalize;\n        margin-bottom: 0.5rem;\n      }\n\n      & > .post_date {\n        font-size: 0.75rem;\n      }\n    }\n\n    &::before {\n      content: "";\n      position: absolute;\n      background-color: rgba(0, 0, 0, 0.3);\n      height: 100%;\n      width: 100%;\n      border-radius: 10px 10px 0 0;\n    }\n\n    & > .post_dots {\n      position: absolute;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      top: 0;\n      right: 0;\n      margin: 1rem;\n      cursor: pointer;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n\n      & > .post_dot {\n        display: block;\n        width: 5px;\n        height: 5px;\n        border-radius: 50%;\n        background-color: white;\n        margin: 1px;\n      }\n    }\n  }\n\n  & > .post_data {\n    display: flex;\n    flex-direction: column;\n    height: 50%;\n    padding: 0.5rem 1rem;\n\n    & > .post_title {\n      text-transform: capitalize;\n      margin: 0.75rem 0;\n    }\n\n    & > .post_message {\n      overflow: scroll;\n      font-size: 0.75rem;\n      /* height: 70%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center; */\n    }\n\n    & > .post_tags {\n      color: grey;\n      font-size: 0.75rem;\n    }\n  }\n  & > .post_buttons {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem;\n\n    & > .post_button {\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: unset;\n      font-size: 0.9rem;\n      font-weight: bold;\n      text-transform: uppercase;\n      border-radius: 10px;\n      padding: 3px 6px;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n    }\n\n    & > .like {\n      color: #04a1ff;\n    }\n\n    & > .delete {\n      color: #db0000;\n    }\n  }\n']);return C=function(){return t},t}var N=l.a.div(C(),(function(t){return t.url}));var P=function(t){var e=t.post,n=g(),o=n.deletePost,s=n.setPostToEdit,c=n.like;return Object(r.jsxs)(N,{url:e.selectedFile,children:[Object(r.jsxs)("div",{className:"post_img",children:[Object(r.jsxs)("div",{className:"post_img_data",children:[Object(r.jsx)("span",{className:"post_creator",children:e.creator}),Object(r.jsx)("span",{className:"post_date",children:"date"})]}),Object(r.jsxs)("div",{onClick:function(){return s(e)},className:"post_dots",children:[Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"})]})]}),Object(r.jsxs)("div",{className:"post_data",children:[Object(r.jsx)("span",{className:"post_tags",children:e.tags}),Object(r.jsx)("h3",{className:"post_title",children:e.title}),Object(r.jsx)("p",{className:"post_message",children:e.message})]}),Object(r.jsxs)("div",{className:"post_buttons",children:[Object(r.jsxs)("button",{onClick:function(){return c(e)},className:"like post_button",children:[Object(r.jsx)(_.a,{})," Like ",e.likeCount]}),Object(r.jsxs)("button",{onClick:function(){return o(e)},className:"delete post_button",children:[Object(r.jsx)(k.a,{})," Delete"]})]})]})};function F(){var t=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n  margin-right: 1rem;\n"]);return F=function(){return t},t}var T=l.a.div(F());var E=function(){var t=g().posts;return Object(r.jsx)(T,{children:0!==t.length?t.map((function(t){return Object(r.jsx)(P,{post:t},t._id)})):Object(r.jsx)("span",{children:"There are no posts available at the moment"})})};function S(){var t=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n"]);return S=function(){return t},t}var z=l.a.div(S()),D=function(){return Object(r.jsxs)(z,{children:[Object(r.jsx)(E,{}),Object(r.jsx)(v,{})]})};var J=function(){return Object(r.jsx)(x,{children:Object(r.jsx)(D,{})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),s(t),c(t)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),L()}},[[40,1,2]]]);
//# sourceMappingURL=main.1a3ac6d5.chunk.js.map