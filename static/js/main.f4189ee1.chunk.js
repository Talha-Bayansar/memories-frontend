(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),i=t.n(o),a=t(15),s=t.n(a),c=(t(35),t(5)),l=t(6),u=t(3),d=t(7),p=t(28),b=t(2),f=t.n(b),j=t(8),x=Object(o.createContext)();function m(n){var e=Object(o.useState)([]),t=Object(d.a)(e,2),i=t[0],a=t[1],s=Object(o.useState)(null),c=Object(d.a)(s,2),l=c[0],u=c[1],b=Object(o.useState)(!1),m=Object(d.a)(b,2),h=m[0],g=m[1],O=Object(o.useState)(),v=Object(d.a)(O,2),y=v[0],k=v[1],w=function(){var n=Object(j.a)(f.a.mark((function n(){var e,t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k("Loading..."),n.next=3,fetch("".concat("https://tb-memories.herokuapp.com","/posts"));case 3:return e=n.sent,n.next=6,e.json();case 6:t=n.sent,console.log(e),console.log(t),a(t),t.length<=0&&k("There are no posts available at the moment.");case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),_=function(){var n=Object(j.a)(f.a.mark((function n(e,t){var r,o,s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n.next=4,fetch("".concat("https://tb-memories.herokuapp.com","/posts"),r);case 4:return o=n.sent,n.next=7,o.json();case 7:s=n.sent,console.log(s),a([].concat(Object(p.a)(i),[s]));case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),C=function(){var n=Object(j.a)(f.a.mark((function n(e){var t,r,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"DELETE",headers:{"Content-type":"application/json"}},n.next=3,fetch("".concat("https://tb-memories.herokuapp.com","/posts/").concat(e._id),t);case 3:return r=n.sent,n.next=6,r.json();case 6:o=n.sent,console.log(o),a(o);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(){var n=Object(j.a)(f.a.mark((function n(e,t){var r,o,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),console.log("update"),r={method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)},n.next=5,fetch("".concat("https://tb-memories.herokuapp.com","/posts/").concat(e._id),r);case 5:return o=n.sent,n.next=8,o.json();case 8:i=n.sent,console.log(e),a(i),u(null);case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),P=function(){var n=Object(j.a)(f.a.mark((function n(e){var t,r,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"PUT",headers:{"Conntent-type":"application/json"}},n.next=3,fetch("".concat("https://tb-memories.herokuapp.com","/posts/like/").concat(e._id),t);case 3:return r=n.sent,n.next=6,r.json();case 6:o=n.sent,a(o);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(o.useEffect)((function(){w(),console.log(i)}),[]);var F=Object(o.useMemo)((function(){return{posts:i,setPosts:a,postToEdit:l,setPostToEdit:u,createPost:_,updatePost:N,deletePost:C,like:P,visibility:h,setVisibility:g,message:y,setMessage:k}}),[i,a,l,u,_,N,C,P,h,g,y,k]);return Object(r.jsx)(x.Provider,{value:F,children:n.children})}var h=function(){return Object(o.useContext)(x)},g=t(24),O=t.n(g),v=t(20),y=t.n(v);function k(){var n=Object(c.a)(["\n  display: none !important;\n  color: #db0000;\n  cursor: pointer;\n\n  @media screen and (max-width: 500px) {\n    display: block !important;\n    position: absolute;\n    bottom: 10%;\n    right: 10%;\n    border-radius: 50%;\n    background-color: rgba(0, 0, 0, 0.6);\n    box-shadow: 0px 0px 15px 5px rgba(0, 0, 0, 0.8);\n\n    &:hover,\n    &:active {\n      background-color: rgba(255, 255, 255, 0.2);\n    }\n  }\n"]);return k=function(){return n},n}function w(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid grey;\n  height: fit-content;\n  width: 300px;\n  padding: 1rem;\n\n  #filebase > input {\n    border: none;\n    padding-left: 0;\n  }\n\n  & > label {\n    margin: 0.5rem 0;\n    display: flex;\n    flex-direction: column;\n\n    & > input,\n    & > textarea {\n      padding: 8px 5px;\n      border-radius: 5px;\n      border: 1px solid grey;\n      font-size: 0.9rem;\n\n      &:focus {\n        border: 1px solid lightblue;\n        outline: none;\n      }\n    }\n\n    & > textarea {\n      height: 5rem;\n    }\n\n    & > #file {\n      border: none;\n      padding: unset;\n    }\n  }\n\n  & > button {\n    margin: 0.5rem 0;\n    padding: 0.5rem;\n    font-size: 1rem;\n    border-radius: 5px;\n    border: none;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      background-color: #d9d9d9;\n    }\n  }\n\n  @media screen and (max-width: 500px) {\n    position: fixed;\n    top: 0;\n    display: ",";\n    width: 100vw;\n    height: 100vh;\n    max-width: unset;\n    background-color: rgba(0, 0, 0, 0.7);\n    padding: 1rem 3rem;\n    color: white;\n  }\n"]);return w=function(){return n},n}var _=l.a.form(w(),(function(n){return n.visibility?"flex":"none"})),C=Object(l.a)(O.a)(k());var N=function(){var n=Object(o.useState)({title:"",message:"",creator:"",tags:"",selectedFile:""}),e=Object(d.a)(n,2),t=e[0],i=e[1],a=h(),s=a.createPost,c=a.posts,l=a.postToEdit,p=a.setPostToEdit,b=a.updatePost,f=a.visibility,j=a.setVisibility;return Object(o.useEffect)((function(){i({title:"",message:"",creator:"",tags:"",selectedFile:""})}),[c]),Object(o.useEffect)((function(){null!==l&&i(l),console.log(l)}),[l]),Object(r.jsxs)(_,{visibility:f,onSubmit:function(n){null===l?s(t,n):b(t,n),j(!1)},children:[Object(r.jsx)(C,{fontSize:"large",onClick:function(){return j(!1)}}),Object(r.jsxs)("label",{htmlFor:"title",children:["Title",Object(r.jsx)("input",{id:"title",type:"text",value:t.title,required:!0,onChange:function(n){return i(Object(u.a)(Object(u.a)({},t),{},{title:n.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"message",children:["Message",Object(r.jsx)("textarea",{id:"message",type:"text",value:t.message,required:!0,onChange:function(n){return i(Object(u.a)(Object(u.a)({},t),{},{message:n.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"creator",children:["Creator",Object(r.jsx)("input",{id:"creator",type:"text",value:t.creator,required:!0,onChange:function(n){return i(Object(u.a)(Object(u.a)({},t),{},{creator:n.target.value}))}})]}),Object(r.jsxs)("label",{htmlFor:"tags",children:["Tags",Object(r.jsx)("input",{id:"tags",type:"text",value:t.tags,required:!0,onChange:function(n){return i(Object(u.a)(Object(u.a)({},t),{},{tags:n.target.value}))}})]}),Object(r.jsxs)("label",{id:"filebase",htmlFor:"file",children:["File",Object(r.jsx)(y.a,{type:"file",multiple:!1,onDone:function(n){var e=n.base64;return i(Object(u.a)(Object(u.a)({},t),{},{selectedFile:e}))},capture:!0})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"}),Object(r.jsx)("button",{onClick:function(n){return function(n){n.preventDefault(),p(null),i({title:"",message:"",creator:"",tags:"",selectedFile:""})}(n)},children:"Clear"})]})},P=t(25),F=t.n(P),T=t(26),S=t.n(T);function E(){var n=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n  height: 350px;\n  background-color: #e6e4e4;\n  margin: 1rem;\n  border-radius: 10px;\n\n  & > .post_img {\n    position: relative;\n    background: url(",') center no-repeat;\n    background-size: 100%;\n    width: 100%;\n    height: 50%;\n    border-radius: 10px 10px 0 0;\n\n    & > .post_img_data {\n      position: absolute;\n      margin: 1rem;\n      display: flex;\n      flex-direction: column;\n      color: white;\n      font-weight: bold;\n\n      & > .post_creator {\n        text-transform: capitalize;\n        margin-bottom: 0.5rem;\n      }\n\n      & > .post_date {\n        font-size: 0.75rem;\n      }\n    }\n\n    &::before {\n      content: "";\n      position: absolute;\n      background-color: rgba(0, 0, 0, 0.3);\n      height: 100%;\n      width: 100%;\n      border-radius: 10px 10px 0 0;\n    }\n\n    & > .post_dots {\n      position: absolute;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      top: 0;\n      right: 0;\n      margin: 1rem;\n      cursor: pointer;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n\n      & > .post_dot {\n        display: block;\n        width: 5px;\n        height: 5px;\n        border-radius: 50%;\n        background-color: white;\n        margin: 1px;\n      }\n    }\n  }\n\n  & > .post_data {\n    display: flex;\n    flex-direction: column;\n    height: 50%;\n    padding: 0.5rem 1rem;\n\n    & > .post_title {\n      text-transform: capitalize;\n      margin: 0.75rem 0;\n    }\n\n    & > .post_message {\n      overflow: scroll;\n      font-size: 0.75rem;\n      /* height: 70%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center; */\n    }\n\n    & > .post_tags {\n      color: grey;\n      font-size: 0.75rem;\n    }\n  }\n  & > .post_buttons {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem;\n\n    & > .post_button {\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      border: none;\n      background-color: unset;\n      font-size: 0.9rem;\n      font-weight: bold;\n      text-transform: uppercase;\n      border-radius: 10px;\n      padding: 3px 6px;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.2);\n      }\n    }\n\n    & > .like {\n      color: #04a1ff;\n    }\n\n    & > .delete {\n      color: #db0000;\n    }\n  }\n']);return E=function(){return n},n}var z=l.a.div(E(),(function(n){return n.url}));var D=function(n){var e=n.post,t=h(),o=t.deletePost,i=t.setPostToEdit,a=t.like,s=t.setVisibility;return Object(r.jsxs)(z,{url:e.selectedFile,children:[Object(r.jsxs)("div",{className:"post_img",children:[Object(r.jsxs)("div",{className:"post_img_data",children:[Object(r.jsx)("span",{className:"post_creator",children:e.creator}),Object(r.jsx)("span",{className:"post_date",children:"date"})]}),Object(r.jsxs)("div",{onClick:function(){i(e),s(!0)},className:"post_dots",children:[Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"}),Object(r.jsx)("div",{className:"post_dot"})]})]}),Object(r.jsxs)("div",{className:"post_data",children:[Object(r.jsx)("span",{className:"post_tags",children:e.tags}),Object(r.jsx)("h3",{className:"post_title",children:e.title}),Object(r.jsx)("p",{className:"post_message",children:e.message})]}),Object(r.jsxs)("div",{className:"post_buttons",children:[Object(r.jsxs)("button",{onClick:function(){return a(e)},className:"like post_button",children:[Object(r.jsx)(F.a,{})," Like ",e.likeCount]}),Object(r.jsxs)("button",{onClick:function(){return o(e)},className:"delete post_button",children:[Object(r.jsx)(S.a,{})," Delete"]})]})]})};function L(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n  margin-right: 1rem;\n\n  @media screen and (max-width: 500px) {\n    margin: unset;\n  }\n"]);return L=function(){return n},n}var q=l.a.div(L());var J=function(){var n=h(),e=n.posts,t=n.message;return Object(r.jsx)(q,{children:0!==e.length?e.map((function(n){return Object(r.jsx)(D,{post:n},n._id)})):Object(r.jsx)("span",{children:t})})},M=t(27),V=t.n(M);function B(){var n=Object(c.a)(["\n  position: fixed;\n  display: none !important;\n  bottom: 10%;\n  right: 10%;\n  box-shadow: 0px 0px 15px 3px rgba(0, 0, 0, 0.8);\n  border-radius: 50%;\n  background-color: #04a1ff;\n  color: white;\n  cursor: pointer;\n\n  &:hover,\n  &:active {\n    box-shadow: 0px 0px 15px 5px rgba(0, 0, 0, 0.8);\n  }\n\n  @media screen and (max-width: 500px) {\n    display: "," !important;\n  }\n"]);return B=function(){return n},n}function I(){var n=Object(c.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n\n  @media screen and (max-width: 500px) {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return I=function(){return n},n}var U=l.a.div(I()),A=Object(l.a)(V.a)(B(),(function(n){return n.visibility?"none":"block"})),G=function(){var n=h(),e=n.setVisibility,t=n.visibility;return Object(o.useEffect)((function(){console.log(t)}),[t]),Object(r.jsxs)(U,{children:[Object(r.jsx)(J,{}),Object(r.jsx)(N,{}),Object(r.jsx)(A,{onClick:function(){return e(!0)},fontSize:"large",visibility:t})]})};var H=function(){return Object(r.jsx)(m,{children:Object(r.jsx)(G,{})})},K=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,55)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),o(n),i(n),a(n)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(H,{})}),document.getElementById("root")),K()}},[[43,1,2]]]);
//# sourceMappingURL=main.f4189ee1.chunk.js.map